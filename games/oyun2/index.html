<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8567873693670598"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Professional SEO Metadata -->
    <title id="seo-title">Animal Memory Game - Professional Logic & Brain Puzzle</title>
    <meta name="description" content="Challenge your memory with Animal Memory Game. A professional, animal-themed logic puzzle featuring 2-player mode, 3 difficulty levels, and fluid mobile gameplay.">
    <meta name="keywords" content="memory game, animal memory, brain puzzle, logic game, 2 player games, kids educational games, animal match, memory trainer">
    <meta name="author" content="Gemini AI">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Animal Memory Game - Professional Logic Puzzle">
    <meta property="og:description" content="Master your memory with our unique animal-themed match game. Play solo or with a friend!">
    <meta property="og:image" content="https://images.unsplash.com/photo-1546115671-33104523773b?q=80&w=1000&auto=format&fit=crop">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Animal Memory Game - Logic Puzzle">
    <meta property="twitter:description" content="Can you find all the pairs? Experience the professional animal memory challenge.">

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Animal Memory Game",
      "operatingSystem": "Web",
      "applicationCategory": "GameApplication",
      "genre": "Puzzle",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* ANDROID OPTƒ∞Mƒ∞ZASYONLARI */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #f0fdf4;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
            overflow: hidden;
            touch-action: none;
            height: 100vh;
        }

        button, select { touch-action: manipulation; }

        .card-container {
            perspective: 1000px;
            cursor: pointer;
            touch-action: manipulation;
            width: 100%;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.4s;
            transform-style: preserve-3d;
            will-change: transform;
        }

        .card-container.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .card-front {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            color: white;
            font-size: 1.5rem;
        }

        .card-back {
            background-color: white;
            border: 2px solid #4ade80;
            transform: rotateY(180deg);
        }

        .game-grid {
            display: grid;
            width: 100%;
            height: 100%;
            margin: 0 auto;
        }

        .player-active {
            border: 3px solid #facc15;
            background-color: #dcfce7;
            transform: scale(1.02);
            box-shadow: 0 0 15px rgba(250, 204, 21, 0.4);
        }

        .ad-banner {
            width: 100%;
            height: 50px;
            background-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .lang-btn.active {
            background-color: #16a34a;
            color: white;
            border-color: #16a34a;
        }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden">

<div id="ad-banner-top" class="ad-banner flex-shrink-0"></div>

<!-- √úst Men√º (Oyun ƒ∞√ßi) -->
<div class="flex-shrink-0 px-4 pt-2 pb-1 z-20 w-full max-w-2xl mx-auto flex justify-start items-center">
    <button onclick="SoundManager.playClick(); Game.restartGame()" class="flex items-center gap-2 bg-white text-green-700 px-4 py-2 rounded-full shadow-sm hover:bg-green-50 active:scale-95 transition text-sm font-bold border border-green-100">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        <span id="ui-back-btn">Select Difficulty</span>
    </button>
</div>

<!-- Skor Tablosu -->
<div class="flex-shrink-0 px-2 pb-2 z-10">
    <div class="flex justify-between items-center max-w-2xl mx-auto bg-white p-2 rounded-xl shadow-sm border border-green-100">
        <div id="p1-panel" class="player-panel flex flex-col items-center p-2 rounded-lg transition-all duration-300 w-1/3">
            <span id="ui-p1-label" class="font-bold text-gray-700 text-xs md:text-sm">Player 1</span>
            <span id="score-p1" class="text-xl font-bold text-green-600">0</span>
        </div>

        <div class="flex flex-col items-center w-1/6">
            <span class="text-xs text-gray-300 font-bold italic text-xl">VS</span>
        </div>

        <div id="p2-panel" class="player-panel flex flex-col items-center p-2 rounded-lg transition-all duration-300 w-1/3">
            <span id="ui-p2-label" class="font-bold text-gray-700 text-xs md:text-sm">Player 2</span>
            <span id="score-p2" class="text-xl font-bold text-blue-600">0</span>
        </div>
    </div>
</div>

<!-- Oyun Alanƒ± -->
<div class="flex-grow p-2 bg-green-50 flex items-center justify-center overflow-hidden">
    <div id="game-board" class="game-grid w-full max-w-3xl h-full"></div>
</div>

<!-- Men√º Ekranƒ± -->
<div id="menu-screen" class="absolute inset-0 bg-green-600 z-50 flex flex-col items-center justify-center text-white p-4">
    <h1 id="ui-title" class="text-4xl font-bold mb-2 text-yellow-300 drop-shadow-md text-center">Animal Memory</h1>
    <p id="ui-subtitle" class="mb-8 opacity-80 text-sm text-center">Find the pair, get the points!</p>

    <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-xs text-center relative flex flex-col items-center">
        
        <!-- Eve D√∂n√º≈ü Butonu -->
        <a href="../../index.html" class="absolute -top-3 -left-3 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 p-3 rounded-full shadow-lg border-2 border-white transition transform active:scale-90" aria-label="Home">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
        </a>

        <!-- Dil Deƒüi≈ütirme -->
        <div class="flex gap-1 bg-green-50 p-1 rounded-full border border-green-100 mb-6 shadow-inner">
            <button onclick="setLanguage('en')" id="lang-en" class="lang-btn px-4 py-1.5 rounded-full text-[11px] font-black transition-all active:scale-90 active">EN</button>
            <button onclick="setLanguage('tr')" id="lang-tr" class="lang-btn px-4 py-1.5 rounded-full text-[11px] font-black transition-all active:scale-90 text-slate-400">TR</button>
        </div>

        <h2 id="ui-difficulty-label" class="text-gray-700 font-bold mb-4 text-lg">Select Difficulty</h2>

        <button onclick="SoundManager.init(); SoundManager.playClick(); Game.start(1)" class="w-full bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-3 rounded-lg mb-3 transition transform active:scale-95 shadow-md border-b-4 border-green-700">
            <span id="ui-easy-btn">EASY (20 Cards)</span>
        </button>
        <button onclick="SoundManager.init(); SoundManager.playClick(); Game.start(2)" class="w-full bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white font-bold py-3 rounded-lg mb-3 transition transform active:scale-95 shadow-md border-b-4 border-blue-700">
            <span id="ui-medium-btn">MEDIUM (30 Cards)</span>
        </button>
        <button onclick="SoundManager.init(); SoundManager.playClick(); Game.start(3)" class="w-full bg-purple-500 hover:bg-purple-600 active:bg-purple-700 text-white font-bold py-3 rounded-lg transition transform active:scale-95 shadow-md border-b-4 border-purple-700">
            <span id="ui-hard-btn">HARD (40 Cards)</span>
        </button>
    </div>
</div>

<!-- Oyun Bitti Ekranƒ± -->
<div id="game-over-screen" class="hidden absolute inset-0 bg-black bg-opacity-80 z-40 flex flex-col items-center justify-center text-white">
    <div class="bg-white text-gray-800 p-8 rounded-2xl text-center shadow-2xl max-w-sm mx-4">
        <h2 id="ui-gameover-title" class="text-3xl font-bold mb-2">Game Over! üèÜ</h2>
        <div id="winner-text" class="text-xl font-semibold text-green-600 mb-6">Winner: Player 1</div>

        <div class="flex justify-center space-x-8 mb-6 text-sm">
            <div class="flex flex-col">
                <span id="ui-final-p1" class="text-gray-500">Player 1</span>
                <span id="final-score-p1" class="text-2xl font-bold">0</span>
            </div>
            <div class="flex flex-col">
                <span id="ui-final-p2" class="text-gray-500">Player 2</span>
                <span id="final-score-p2" class="text-2xl font-bold">0</span>
            </div>
        </div>

        <button onclick="SoundManager.playClick(); Game.showMenu()" class="w-full bg-yellow-400 hover:bg-yellow-500 active:bg-yellow-600 text-yellow-900 font-bold py-3 rounded-lg shadow-md border-b-4 border-yellow-600 active:scale-95 transform transition uppercase">
            <span id="ui-restart-btn">PLAY AGAIN</span>
        </button>
    </div>
</div>

<div id="ad-banner-bottom" class="ad-banner flex-shrink-0"></div>

<script>
    let currentLang = 'en';

    const translations = {
        en: {
            seo_title: "Animal Memory Game - Professional Logic & Brain Puzzle",
            title: "Animal Memory",
            subtitle: "Find the pair, get the points!",
            difficulty: "Select Difficulty",
            easy: "EASY (20 Cards)",
            medium: "MEDIUM (30 Cards)",
            hard: "HARD (40 Cards)",
            back: "Select Difficulty",
            player1: "Player 1",
            player2: "Player 2",
            gameOver: "Game Over! üèÜ",
            restart: "PLAY AGAIN",
            winner: "Winner",
            draw: "Draw! ü§ù"
        },
        tr: {
            seo_title: "Hayvan Hafƒ±za Oyunu - Profesyonel Zeka ve Mantƒ±k Bulmacasƒ±",
            title: "Hayvan Hafƒ±za",
            subtitle: "E≈üini bul, puanƒ± kap!",
            difficulty: "Zorluk Se√ß",
            easy: "KOLAY (20 Kart)",
            medium: "ORTA (30 Kart)",
            hard: "ZOR (40 Kart)",
            back: "Zorluk Se√ß",
            player1: "Oyuncu 1",
            player2: "Oyuncu 2",
            gameOver: "Oyun Bitti! üèÜ",
            restart: "TEKRAR OYNA",
            winner: "Kazanan",
            draw: "Beraberlik! ü§ù"
        }
    };

    function setLanguage(lang) {
        currentLang = lang;
        const t = translations[lang];
        
        // SEO Title Update
        document.title = t.seo_title;
        
        document.getElementById('ui-title').innerText = t.title;
        document.getElementById('ui-subtitle').innerText = t.subtitle;
        document.getElementById('ui-difficulty-label').innerText = t.difficulty;
        document.getElementById('ui-easy-btn').innerText = t.easy;
        document.getElementById('ui-medium-btn').innerText = t.medium;
        document.getElementById('ui-hard-btn').innerText = t.hard;
        document.getElementById('ui-back-btn').innerText = t.back;
        document.getElementById('ui-p1-label').innerText = t.player1;
        document.getElementById('ui-p2-label').innerText = t.player2;
        document.getElementById('ui-final-p1').innerText = t.player1;
        document.getElementById('ui-final-p2').innerText = t.player2;
        document.getElementById('ui-gameover-title').innerText = t.gameOver;
        document.getElementById('ui-restart-btn').innerText = t.restart;

        document.getElementById('lang-en').className = `lang-btn px-4 py-1.5 rounded-full text-[11px] font-black transition-all ${lang === 'en' ? 'active' : 'text-slate-400'}`;
        document.getElementById('lang-tr').className = `lang-btn px-4 py-1.5 rounded-full text-[11px] font-black transition-all ${lang === 'tr' ? 'active' : 'text-slate-400'}`;
        
        if (!document.getElementById('game-over-screen').classList.contains('hidden')) {
            Game.updateWinnerText();
        }
    }

    const SoundManager = {
        ctx: null,
        init: function() {
            try {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (!this.ctx) { this.ctx = new AudioContext(); }
                if (this.ctx.state === 'suspended') { this.ctx.resume(); }
            } catch(e) {}
        },
        playTone: function(freq, type, duration, startTime = 0, vol = 0.1) {
            if (!this.ctx) return;
            try {
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.type = type;
                osc.frequency.setValueAtTime(freq, this.ctx.currentTime + startTime);
                const now = this.ctx.currentTime + startTime;
                gain.gain.setValueAtTime(0, now);
                gain.gain.linearRampToValueAtTime(vol, now + (duration * 0.1));
                gain.gain.exponentialRampToValueAtTime(0.001, now + duration);
                osc.connect(gain);
                gain.connect(this.ctx.destination);
                osc.start(now);
                osc.stop(now + duration);
            } catch(e) {}
        },
        playClick: function() { this.playTone(1200, 'sine', 0.05, 0, 0.05); },
        playFlip: function() { this.playTone(500, 'sine', 0.15, 0, 0.15); },
        playMatch: function() {
            this.playTone(523.25, 'sine', 0.4, 0, 0.1);
            this.playTone(659.25, 'sine', 0.1, 0.1, 0.1);
            this.playTone(783.99, 'sine', 0.6, 0.2, 0.1);
        },
        playMismatch: function() { this.playTone(200, 'triangle', 0.3, 0, 0.1); },
        playWin: function() {
            this.playTone(523.25, 'triangle', 0.2, 0, 0.1);
            this.playTone(659.25, 'triangle', 0.2, 0.15, 0.1);
            this.playTone(783.99, 'triangle', 0.2, 0.30, 0.1);
            this.playTone(1046.50, 'triangle', 0.6, 0.45, 0.2);
        }
    };

    const AndroidBridge = {
        showInterstitial: function() { if (typeof Android !== "undefined" && Android.showInterstitial) Android.showInterstitial(); },
        showBanner: function() { if (typeof Android !== "undefined" && Android.showBanner) Android.showBanner(); }
    };

    const Game = {
        state: { cards: [], flippedCards: [], matchedPairs: 0, totalPairs: 0, currentPlayer: 1, scores: { 1: 0, 2: 0 }, isLocked: false, difficulty: 1 },
        config: {
            easy: { pairs: 10, cols: 4, rows: 5, gap: 'gap-2', fontSize: 'text-2xl md:text-4xl' },
            medium: { pairs: 15, cols: 5, rows: 6, gap: 'gap-1', fontSize: 'text-xl md:text-3xl' },
            hard: { pairs: 20, cols: 5, rows: 8, gap: 'gap-1', fontSize: 'text-lg md:text-2xl' }
        },
        animals: ['ü¶Å', 'üêØ', 'üêª', 'üê®', 'üêº', 'üêπ', 'üê∞', 'ü¶ä', 'ü¶ù', 'üêÆ', 'üê∑', 'üê∏', 'üêµ', 'üêî', 'üêß', 'üê¶', 'üê§', 'ü¶Ö', 'ü¶â', 'ü¶á', 'üê∫', 'üêó', 'üê¥', 'ü¶Ñ', 'üêù', 'üêõ', 'ü¶ã', 'üêå', 'üêû', 'üêú'],

        start: function(difficultyLevel) {
            SoundManager.init();
            AndroidBridge.showBanner();
            this.state.difficulty = difficultyLevel;
            this.resetState();
            let cfg = (difficultyLevel === 1) ? this.config.easy : (difficultyLevel === 2) ? this.config.medium : this.config.hard;
            this.state.totalPairs = cfg.pairs;
            document.getElementById('menu-screen').classList.add('hidden');
            document.getElementById('game-over-screen').classList.add('hidden');
            this.generateCards(cfg);
            this.updateUI();
        },

        resetState: function() {
            this.state.scores = { 1: 0, 2: 0 };
            this.state.currentPlayer = 1;
            this.state.matchedPairs = 0;
            this.state.flippedCards = [];
            this.state.isLocked = false;
        },

        generateCards: function(cfg) {
            const gameBoard = document.getElementById('game-board');
            gameBoard.innerHTML = '';
            gameBoard.style.gridTemplateColumns = `repeat(${cfg.cols}, 1fr)`;
            gameBoard.style.gridTemplateRows = `repeat(${cfg.rows}, 1fr)`;
            gameBoard.className = `game-grid w-full h-full ${cfg.gap}`;
            const selectedAnimals = this.animals.slice(0, cfg.pairs);
            const deck = [...selectedAnimals, ...selectedAnimals].sort(() => Math.random() - 0.5);
            deck.forEach((animal) => {
                const card = document.createElement('div');
                card.className = `card-container h-full select-none`;
                card.dataset.animal = animal;
                card.innerHTML = `
                    <div class="card-inner w-full h-full">
                        <div class="card-front"><span class="opacity-30 text-xs font-bold">?</span></div>
                        <div class="card-back ${cfg.fontSize}">${animal}</div>
                    </div>`;
                card.onclick = () => this.handleCardClick(card);
                gameBoard.appendChild(card);
            });
        },

        handleCardClick: function(card) {
            if (this.state.isLocked || card.classList.contains('flipped') || card.classList.contains('matched')) return;
            SoundManager.playFlip();
            card.classList.add('flipped');
            this.state.flippedCards.push(card);
            if (this.state.flippedCards.length === 2) this.checkForMatch();
        },

        checkForMatch: function() {
            this.state.isLocked = true;
            const [card1, card2] = this.state.flippedCards;
            if (card1.dataset.animal === card2.dataset.animal) {
                this.state.scores[this.state.currentPlayer]++;
                this.state.matchedPairs++;
                SoundManager.playMatch();
                setTimeout(() => {
                    card1.classList.add('matched', 'opacity-50');
                    card2.classList.add('matched', 'opacity-50');
                    this.state.flippedCards = [];
                    this.state.isLocked = false;
                    this.updateUI();
                    if (this.state.matchedPairs === this.state.totalPairs) this.endGame();
                }, 500);
            } else {
                SoundManager.playMismatch();
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    this.state.flippedCards = [];
                    this.state.currentPlayer = this.state.currentPlayer === 1 ? 2 : 1;
                    this.state.isLocked = false;
                    this.updateUI();
                }, 800);
            }
        },

        updateUI: function() {
            document.getElementById('score-p1').textContent = this.state.scores[1];
            document.getElementById('score-p2').textContent = this.state.scores[2];
            const p1 = document.getElementById('p1-panel');
            const p2 = document.getElementById('p2-panel');
            if (this.state.currentPlayer === 1) {
                p1.classList.add('player-active'); p2.classList.remove('player-active');
                p2.classList.add('opacity-60'); p1.classList.remove('opacity-60');
            } else {
                p2.classList.add('player-active'); p1.classList.remove('player-active');
                p1.classList.add('opacity-60'); p2.classList.remove('opacity-60');
            }
        },

        updateWinnerText: function() {
            const p1 = this.state.scores[1];
            const p2 = this.state.scores[2];
            const t = translations[currentLang];
            let msg = (p1 > p2) ? `${t.winner}: ${t.player1}! üéâ` : (p2 > p1) ? `${t.winner}: ${t.player2}! üéâ` : t.draw;
            document.getElementById('winner-text').textContent = msg;
        },

        endGame: function() {
            AndroidBridge.showInterstitial();
            SoundManager.playWin();
            this.updateWinnerText();
            document.getElementById('final-score-p1').textContent = this.state.scores[1];
            document.getElementById('final-score-p2').textContent = this.state.scores[2];
            setTimeout(() => { document.getElementById('game-over-screen').classList.remove('hidden'); }, 600);
        },

        showMenu: function() {
            document.getElementById('game-over-screen').classList.add('hidden');
            document.getElementById('menu-screen').classList.remove('hidden');
        },

        restartGame: function() { this.showMenu(); }
    };

    window.onload = () => setLanguage('en');
</script>
</body>
</html>
